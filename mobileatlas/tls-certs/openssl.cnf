[ ca ]
default_ca = CA_default

[ CA_default ]
new_certs_dir = ./certs
certificate = ./certs/ca.crt
private_key = ./private/ca.key

default_days = 375
#default_crl_days = 30
default_md = sha384
database = ./index.txt
serial = ./serial
#crlnumber = ./crlnumber
preserve = no

name_opt = ca_default
cert_opt = ca_default
policy = policy_all

copy_extensions = copy

[ policy_all ]
commonName = supplied

[ req ]
default_bits = 4096
default_md = sha384
string_mask = utf8only
x509_extensions = v3_ca
distinguished_name = req_distinguished_name

[ req_distinguished_name ]
#countryName = Country Name (2 letter code)
#stateOrProvinceName = State or Province Name
#localityName = Locality Name
#0.organizationName = Organization Name
#organizationalUnitName = Organizational Unit Name
commonName = Common Name
#emailAddress = Email Address

[ v3_ca ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, keyCertSign
nameConstraints = critical,permitted;DNS:localhost

[ usr_cert ]
basicConstraints = critical, CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always
keyUsage = critical, nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth

[ server_cert ]
basicConstraints = critical, CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always
keyUsage = critical, digitalSignature
extendedKeyUsage = serverAuth
